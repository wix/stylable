<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Runtime</title>

	<!-— facebook open graph tags -->
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://stylable.io/">
	<meta property="og:title" content="Stylable - scoped CSS for components">
	<meta property="og:description" content="Stylable is an open-source CSS preprocessor that extends and scopes CSS for components, resolving to flat, vanilla, cross-browser CSS at build time.">
	<meta property="og:image" content="https://stylable.io/images/96-logo-horizontal.png">
	 
	<!-— twitter card tags additive with the og: tags -->
	<meta name="twitter:card" content="summary">
	<meta name="twitter:domain" content="stylable.io">
	<meta name="twitter:title" content="Stylable - scoped CSS for components">
	<meta name="twitter:description" content="Stylable is an open-source CSS preprocessor that extends and scopes CSS for components, resolving to flat, vanilla, cross-browser CSS at build time.">
	<meta name="twitter:image" content="https://stylable.io/images/96-logo-horizontal.png">
	<meta name="twitter:url" content="https://stylable.io/">

    <link rel="stylesheet" href="../../css/normalize.css">
    <link rel="stylesheet" href="../../css/main.css?cacheKill=4">
    <link rel="stylesheet" href="../../css/highlight.css">
    <link rel="icon" type="image/x-icon" href="../../images/favicon-1.png">
    <link type="text/css" rel="stylesheet" href="//static.parastorage.com/services/third-party/fonts/Helvetica/fontFace.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    
</head>
<body>
<header>
    <div class="header-content">
        <label class="menu-icon" for="menu">
    </label>
        <a href="../.."><span class="logo"></span></a>

        <ul class="main-nav">
            <li><a href="https://github.com/wix/stylable" target="_blank"><img src="/images/logo-git.svg" alt="Stylable on GitHub"></a></li>
            <li><a href="https://twitter.com/stylableio" target="_blank"><img src="/images/logo-twitter.svg" alt="Stylable on Twitter"></a></li>
        </ul>
    </div>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-109043375-1"></script>
    <script>
       window.dataLayer = window.dataLayer || [];
       function gtag(){dataLayer.push(arguments);}
       gtag('js', new Date());
       gtag('config', 'UA-109043375-1');
    </script>
</header>


<input id="menu" type="checkbox" class="hidden-control hidden-control_menu">    
<div class="main-content">
    <nav class="docs-nav">
    
    <div class="docs-nav-section">
        <div class="docs-nav-section-header"></div>
        <ul>
            
        </ul>
    </div>
    
    <div class="docs-nav-section">
        <div class="docs-nav-section-header">Discover</div>
        <ul>
            
                <li class=""><a href="../../docs/get-started" class=" docs-nav-item">Getting Started</a></li>
            
                <li class=""><a href="../../docs/getting-started/install-configure" class=" docs-nav-item">Installation</a></li>
            
                <li class=""><a href="../../docs/getting-started/react-integration" class=" docs-nav-item">React Integration</a></li>
            
                <li class=""><a href="../../docs/getting-started/stylable-intelligence" class=" docs-nav-item">Stylable Intelligence</a></li>
            
        </ul>
    </div>
    
    <div class="docs-nav-section">
        <div class="docs-nav-section-header">Guides</div>
        <ul>
            
                <li class=""><a href="../../docs/guides/components-basics" class=" docs-nav-item">Component Basics</a></li>
            
                <li class=""><a href="../../docs/guides/stylable-component-best-practices" class=" docs-nav-item">Component Best Practices</a></li>
            
                <li class="active"><a href="../../docs/guides/runtime" class="active docs-nav-item">Runtime</a><ul><li><a href="#manual-mapping" class="docs-nav-subitem">Manual Mapping</a></li><li><a href="#custom-state-mapping" class="docs-nav-subitem">Custom State Mapping</a></li><li><a href="#generate-element-attributes" class="docs-nav-subitem">Generate Element Attributes</a></li></ul></li>
            
                <li class=""><a href="../../docs/guides/stylable-application" class=" docs-nav-item">Stylable Application</a></li>
            
                <li class=""><a href="../../docs/guides/stylable-component-library" class=" docs-nav-item">Stylable Component Library</a></li>
            
                <li class=""><a href="../../docs/guides/project-commons" class=" docs-nav-item">Project Commons</a></li>
            
                <li class=""><a href="../../docs/guides/shared-classes" class=" docs-nav-item">Shared Classes</a></li>
            
                <li class=""><a href="../../docs/guides/component-variants" class=" docs-nav-item">Component Variants</a></li>
            
        </ul>
    </div>
    
    <div class="docs-nav-section">
        <div class="docs-nav-section-header">Specification Reference</div>
        <ul>
            
                <li class=""><a href="../../docs/getting-started/cheatsheet" class=" docs-nav-item">Specification Overview</a></li>
            
                <li class=""><a href="../../docs/references/imports" class=" docs-nav-item">Imports</a></li>
            
                <li class=""><a href="../../docs/references/root" class=" docs-nav-item">Root</a></li>
            
                <li class=""><a href="../../docs/references/class-selectors" class=" docs-nav-item">Class Selectors</a></li>
            
                <li class=""><a href="../../docs/references/tag-selectors" class=" docs-nav-item">Tag/Component Selectors</a></li>
            
                <li class=""><a href="../../docs/references/extend-stylesheet" class=" docs-nav-item">Extend Stylesheet</a></li>
            
                <li class=""><a href="../../docs/references/pseudo-classes" class=" docs-nav-item">Pseudo-Classes</a></li>
            
                <li class=""><a href="../../docs/references/pseudo-elements" class=" docs-nav-item">Pseudo-Elements</a></li>
            
                <li class=""><a href="../../docs/references/global-selectors" class=" docs-nav-item">Global Selectors</a></li>
            
                <li class=""><a href="../../docs/references/custom-selectors" class=" docs-nav-item">Custom Selectors</a></li>
            
                <li class=""><a href="../../docs/references/mixins" class=" docs-nav-item">Mixins</a></li>
            
                <li class=""><a href="../../docs/references/formatters" class=" docs-nav-item">Formatters</a></li>
            
                <li class=""><a href="../../docs/references/variables" class=" docs-nav-item">Variables</a></li>
            
                <li class=""><a href="../../docs/references/namespace" class=" docs-nav-item">Namespace</a></li>
            
        </ul>
    </div>
    
</nav>

<section class="docs-content">
    <h1>Runtime</h1>
    <p>Imported <strong>Stylable</strong> stylesheets contain minimal runtime code to help define the structure and state of the component.</p>

<div class="language-css highlighter-rouge"><pre class="highlight"><code><span class="c">/* style.st.css */</span>
<span class="nc">.root</span> <span class="p">{</span>
    <span class="py">-st-states</span><span class="p">:</span> <span class="n">selected</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.label</span> <span class="p">{}</span>
<span class="nc">.icon</span> <span class="p">{}</span>
</code></pre>
</div>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="cm">/* index.jsx */</span>
<span class="kr">import</span> <span class="nx">style</span> <span class="nx">from</span> <span class="s2">"style.st.css"</span><span class="p">;</span> <span class="c1">// import stylesheet's runtime API</span>
</code></pre>
</div>

<h2 id="manual-mapping">Manual mapping</h2>

<p>CSS class names, defined in the stylesheet, are exposed directly on the import reference and mapped to their runtime target value. The expected class name is then used as an element class name in the structure.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">style</span><span class="p">.</span><span class="nx">root</span> <span class="c1">// "style__root"</span>
<span class="nx">style</span><span class="p">.</span><span class="nx">label</span> <span class="c1">// "style__label"</span>
<span class="nx">style</span><span class="p">.</span><span class="nx">icon</span> <span class="c1">// "style__icon"</span>
</code></pre>
</div>

<blockquote>
  <p><strong>Note</strong><br />
The <a href="../references/root">root class</a> is available even when it is not defined in the stylesheet.</p>
</blockquote>

<h2 id="custom-state-mapping">Custom state mapping</h2>

<p><a href="../references/pseudo-classes">Custom states</a>, which can be targeted from the style, are generated using the <code class="highlighter-rouge">$cssStates</code> function. The function accepts a map of local state names and generates an object with <code class="highlighter-rouge">data-*</code> attributes used to mark the element state.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="cm">/* { 'data-style-selected':true } */</span>
<span class="nx">style</span><span class="p">.</span><span class="nx">$cssStates</span><span class="p">({</span> <span class="na">selected</span><span class="p">:</span><span class="kc">true</span> <span class="p">})</span>
<span class="cm">/* { 'data-style-unknownstate':true } */</span>
<span class="nx">style</span><span class="p">.</span><span class="nx">$cssStates</span><span class="p">({</span> <span class="na">unknownState</span><span class="p">:</span><span class="kc">true</span> <span class="p">})</span>

<span class="cm">/* { } */</span>
<span class="nx">style</span><span class="p">.</span><span class="nx">$cssStates</span><span class="p">({</span> <span class="na">selected</span><span class="p">:</span><span class="kc">false</span> <span class="p">})</span> <span class="c1">// no states</span>

<span class="cm">/* { 'data-style-a':true, 'data-style-b':true } */</span>
<span class="nx">style</span><span class="p">.</span><span class="nx">$cssStates</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span> <span class="na">b</span><span class="p">:</span><span class="kc">true</span> <span class="p">})</span> <span class="c1">// multiple</span>
</code></pre>
</div>

<h2 id="generate-element-attributes">Generate element attributes</h2>

<p>The minimal runtime provides a function to help with component definition.<br />
Calling the function returns an object describing the attributes of a node in the component view.</p>

<h3 id="element-name">Element name</h3>

<p>The first argument represents the name of the element, and returns a <code class="highlighter-rouge">className</code> attribute to mark the element node.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="cm">/* { className:'style__root' } */</span>
<span class="nx">style</span><span class="p">(</span><span class="s1">'root'</span><span class="p">)</span> 
<span class="cm">/* { className:'style__label' } */</span>
<span class="nx">style</span><span class="p">(</span><span class="s1">'label'</span><span class="p">)</span> 

<span class="cm">/* { className:'style__label style__icon' } */</span>
<span class="nx">style</span><span class="p">(</span><span class="s1">'label icon'</span><span class="p">)</span> <span class="c1">// multiple markings</span>
</code></pre>
</div>

<blockquote>
  <p><strong>Note</strong><br />
Any class name that is not found in the stylesheet is not namespaced and is treated as global.</p>
</blockquote>

<h3 id="custom-states">Custom states</h3>

<p>The second argument represents the <a href="#custom-state-mapping">custom state</a>, and returns a <code class="highlighter-rouge">data-*</code> attribute to represent the custom state on the element.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="cm">/* { className:'style__root', 'data-style-selected':true } */</span>
<span class="nx">style</span><span class="p">(</span><span class="s1">'root'</span><span class="p">,</span> <span class="p">{</span> <span class="na">selected</span><span class="p">:</span><span class="kc">true</span> <span class="p">})</span>
<span class="cm">/* { className:'style__label', 'data-style-searched':true } */</span>
<span class="nx">style</span><span class="p">(</span><span class="s1">'label'</span><span class="p">,</span> <span class="p">{</span> <span class="na">searched</span><span class="p">:</span><span class="kc">true</span> <span class="p">})</span>
</code></pre>
</div>

<h3 id="merge-props">Merge props</h3>

<p>The third argument can be used as a base for the generated class name and states.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="cm">/*  { className:'style__root class-a' } */</span>
<span class="nx">style</span><span class="p">(</span><span class="s1">'root'</span><span class="p">,</span> <span class="p">{},</span> <span class="p">{</span> <span class="na">className</span><span class="p">:</span><span class="s1">'class-a'</span> <span class="p">})</span>
<span class="cm">/*  { className:'style__root label icon' } */</span>
<span class="nx">style</span><span class="p">(</span><span class="s1">'root'</span><span class="p">,</span> <span class="p">{},</span> <span class="p">{</span> <span class="na">className</span><span class="p">:</span><span class="s1">'label icon'</span> <span class="p">})</span> <span class="c1">// appended without namespacing</span>

<span class="cm">/*  { className:'style__root', 'data-a':true } */</span>
<span class="nx">style</span><span class="p">(</span><span class="s1">'root'</span><span class="p">,</span> <span class="p">{},</span> <span class="p">{</span> <span class="s1">'data-a'</span><span class="p">:</span><span class="kc">true</span> <span class="p">})</span>
</code></pre>
</div>

<blockquote>
  <p><strong>Note</strong><br />
Any <code class="highlighter-rouge">data-*</code> attribute passed in the base overrides its generated equivalent.</p>
</blockquote>

</section>


</div>


<script src="../../js/vendor/prism/prism.js"></script>
<script src="../../js/vendor/tippy/tippy.all.min.js"></script>
<script>
	tippy('.code [title]', {
		duration: 0
	});
</script>

<script src="https://static.parastorage.com/unpkg/react@16.2.0//umd/react.production.min.js"></script>
<script src="https://static.parastorage.com/unpkg/react-dom@16.2.0//umd/react-dom.production.min.js"></script>
<script src="https://static.parastorage.com/unpkg/jquery@3.3.1"></script>
</body>
</html>